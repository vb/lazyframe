!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);const i=()=>{let e;const t=[],n={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,apikey:void 0,initialized:!1,parameters:void 0,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:e=>{},onAppend:e=>{},onThumbnailLoad:e=>{}},i={regex:{youtube_nocookie:/(?:youtube-nocookie\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=)))([a-zA-Z0-9_-]{6,11})/,youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:e=>!(!e||11!=e[1].length)&&e[1],youtube_nocookie:e=>!(!e||11!=e[1].length)&&e[1],vimeo:e=>!!(e&&9===e[1].length||8===e[1].length)&&e[1],vine:e=>!(!e||11!==e[1].length)&&e[1]},src:{youtube:e=>`https://www.youtube.com/embed/${e.id}/?${e.parameters}`,youtube_nocookie:e=>`https://www.youtube-nocookie.com/embed/${e.id}/?${e.parameters}`,vimeo:e=>`https://player.vimeo.com/video/${e.id}/?${e.parameters}`,vine:e=>`https://vine.co/v/${e.id}/embed/simple`},endpoints:{youtube:e=>`https://www.googleapis.com/youtube/v3/videos?id=${e.id}&key=${e.apikey}&fields=items(snippet(title,thumbnails))&part=snippet`,youtube_nocookie:e=>`https://www.googleapis.com/youtube/v3/videos?id=${e.id}&key=${e.apikey}&fields=items(snippet(title,thumbnails))&part=snippet`,vimeo:e=>`https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/${e.id}`,vine:e=>`https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F${e.id}`},response:{youtube:{title:e=>e.items[0].snippet.title,thumbnail:e=>{let t=e.items[0].snippet.thumbnails;return(t.maxres||t.standard||t.high||t.medium||t.default).url}},youtube_nocookie:{title:e=>e.items[0].snippet.title,thumbnail:e=>{let t=e.items[0].snippet.thumbnails;return(t.maxres||t.standard||t.high||t.medium||t.default).url}},vimeo:{title:e=>e.title,thumbnail:e=>e.thumbnail_url},vine:{title:e=>e.title,thumbnail:e=>e.thumbnail_url}}};function o(t){if(t instanceof HTMLElement==!1||t.classList.contains("lazyframe--loaded"))return;const n={el:t,settings:s(t)};n.el.addEventListener("click",()=>{n.el.appendChild(n.iframe);const e=t.querySelectorAll("iframe");n.settings.onAppend.call(this,e[0])}),e.lazyload?u(n):r(n,n.settings.thumbnail)}function s(t){const n=Array.prototype.slice.apply(t.attributes).filter(e=>""!==e.value).reduce((e,t)=>(e[0===t.name.indexOf("data-")?t.name.split("data-")[1]:t.name]=t.value,e),{}),o=Object.assign({},e,n,{y:t.offsetTop,parameters:l(n.src)});if(o.vendor){const e=o.src.match(i.regex[o.vendor]);o.id=i.condition[o.vendor](e)}return o}function l(e){let t=e.split("?");if(t[1]){return t=t[1],-1!==t.indexOf("autoplay")?t:t+"&autoplay=1&rel=0"}return"autoplay=1&rel=0"}function r(e){!function(e){return!!e.vendor&&((!e.title||!e.thumbnail)&&("youtube"!==e.vendor&&"youtube_nocookie"!==e.vendor||!!e.apikey))}(e.settings)?u(e,!0):function(e,t){const n=i.endpoints[e.settings.vendor](e.settings),o=new XMLHttpRequest;o.open("GET",n,!0),o.onload=function(){if(o.status>=200&&o.status<400){const n=JSON.parse(o.responseText);t(null,[n,e])}else t(!0)},o.onerror=function(){t(!0)},o.send()}(e,(t,n)=>{if(t)return;const o=n[0],s=n[1];if(s.settings.title||(s.settings.title=i.response[s.settings.vendor].title(o)),!s.settings.thumbnail){const t=i.response[s.settings.vendor].thumbnail(o);s.settings.thumbnail=t,e.settings.onThumbnailLoad.call(this,t)}u(s,!0)})}function a(){const n=window.innerHeight;let i=t.length;const o=(e,t)=>{e.settings.initialized=!0,e.el.classList.add("lazyframe--loaded"),i--,r(e),e.settings.initinview&&e.el.click(),e.settings.onLoad.call(this,e)};t.filter(e=>e.settings.y<n).forEach(o);const s=function(e,t,n){let i;return function(){let o=this,s=arguments,l=function(){i=null,n||e.apply(o,s)},r=n&&!i;clearTimeout(i),i=setTimeout(l,t),r&&e.apply(o,s)}}(()=>{a=l<window.pageYOffset,l=window.pageYOffset,a&&t.filter(e=>e.settings.y<n+l&&!1===e.settings.initialized).forEach(o),0===i&&window.removeEventListener("scroll",s,!1)},e.debounce);let l=0,a=!1;window.addEventListener("scroll",s,!1)}function u(n,o){if(n.iframe=function(e){const t=document.createDocumentFragment(),n=document.createElement("iframe");e.vendor&&(e.src=i.src[e.vendor](e));if(n.setAttribute("id",`lazyframe-${e.id}`),n.setAttribute("src",e.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),"vine"===e.vendor){const e=document.createElement("script");e.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),t.appendChild(e)}return t.appendChild(n),t}(n.settings),n.settings.thumbnail&&o&&(n.el.style.backgroundImage=`url(${n.settings.thumbnail})`),n.settings.title&&0===n.el.children.length){const e=document.createDocumentFragment(),t=document.createElement("span");t.className="lazyframe__title",t.innerHTML=n.settings.title,e.appendChild(t),n.el.appendChild(e)}e.lazyload||(n.el.classList.add("lazyframe--loaded"),n.settings.onLoad.call(this,n),t.push(n)),n.settings.initialized||t.push(n)}return function(t,...i){if(e=Object.assign({},n,i[0]),"string"==typeof t){const e=document.querySelectorAll(t);for(let t=0;t<e.length;t++)o(e[t])}else if(void 0===t.length)o(t);else if(t.length>1)for(let e=0;e<t.length;e++)o(t[e]);else o(t[0]);e.lazyload&&a()}},o=i();window.lazyframe=i(),t.default=o},function(e,t,n){}]);